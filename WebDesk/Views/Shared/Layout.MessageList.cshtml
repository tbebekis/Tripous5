@{
    List<string> ErrorList = Lib.PopErrorList();
    List<string> SuccessList = Lib.PopSuccessList();
}
<script>
    tp.PageErrorList = [];
    tp.PageSuccessList = [];

    @{
        if (ErrorList != null)
        {
            foreach (string S in ErrorList)
            {
                <text>tp.PageErrorList.push('@S');
                </text>
            }
        }

        if (SuccessList != null)
        {
            foreach (string S in SuccessList)
            {
                <text>tp.PageSuccessList.push('@S');
                </text>
            }
        }
    }

    tp.Ready(() => {
        let i, ln;
        if (tp.PageErrorList.length > 0) {
            for (i = 0, ln = tp.PageErrorList.length; i < ln; i++)
                tp.ErrorNote(tp.PageErrorList[i]);
        }

        if (tp.PageSuccessList.length > 0) {
            for (i = 0, ln = tp.PageSuccessList.length; i < ln; i++)
                tp.SuccessNote(tp.PageSuccessList[i]);
        }
    });


</script>




